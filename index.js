const mongoose = require('mongoose');

// Import of the model Recipe from './models/Recipe.model.js'
const Recipe = require('./models/Recipe.model');
// Import of the data from './data.json'
const data = require('./data');

const MONGODB_URI = 'mongodb://localhost:27017/recipe-app';

// Connection to the database "recipe-app"
mongoose
  .connect(MONGODB_URI, {
    /* useCreateIndex: true,
    useNewUrlParser: true,
    useUnifiedTopology: true */
  })
  .then(self => {
    console.log(`Connected to the database: "${self.connection.name}"`);
    // Before adding any recipes to the database, let's remove all existing ones
    return Recipe.deleteMany()
  })
  .then(() => {
    // Run your code here, after you have insured that the connection was made    
  // 2  
    let p1 = Recipe.create ({
      title: "Steak Tartar",
      level: "Amateur Chef",
      ingredients: ["Minced Meat", "Parsley", "Mustard", "Egg Yolk", "Lea Perrins", "Tabasco", "Anxovies", "Chalotte"],
      cuisine: "French",
      dishType: "main_course",
      image : "data:image/jpeg;base64,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",
      duration: 12,
      creator: "El Basko",
    })
    .then ((recipe) => console.log ("Recipe created: " + recipe.title))

  //3-8utWFr5v4ZxrE2Rlt3
    let p2 = Recipe.insertMany (data)
    .then ((recipes) => {
            recipes.forEach ( (recipe) =>
            console.log ("New Recipe added: " + recipe.title)
            )
        })
  
  // 4ZP5b
    let p3 = Recipe.findOneAndUpdate ({title: "Rigatoni alla Genovese"}, {duration: 100})
      .then (() => console.log ("succesfully updated"))

  //5
    let p4 = Recipe.deleteOne ({title: "Carrot Cake"})
      .then (() => console.log ("succesfully deleted"))

  //6
    var actions = [p1, p2, p3, p4]; //populate this with your insert functions as promises

    Promise.all(actions)
      .then(function() {
        // all loaded
        mongoose.connection.close ();
        console.log ("connection closed");
      }, function() {
        // one or more failed
        mongoose.connection.close ();
        console.log ("connection closed with errors");
      });     
  })
 
  .catch(error => {
    console.error('Error connecting to the database', error);
  });
